---
title: v-on
tags: 
    - vue
    - 前端
cover: https://coderhch.oss-cn-shanghai.aliyuncs.com/blog/2021-05-15/v-on/58839774_p0_master1200.jpg
date: 2021-05-15
categories: vue
---
# v-on

在前端开发中，我们经常和用户进行各种各样的交互，这个时候，我们就必须监听用户发生的事件，在vue中使用v-on指令

## v-on基本使用

1. 监听点击事件

```html
 <button v-on:click="btn1Click">按钮1</button>
```

2. `v-on:click`可以写成@click

```html
  <button @click="btn1Click">按钮1</button>
```

3. 绑定多个事件

```html
<div @="{click: btn1Click, mousemove: mouseMove}"></div>
```

## v-on参数传递

当通过methods中定义方法，以供@click调用时，需要注意参数问题

- 情况一：如果该方法不需要额外参数，那么方法后的`()`可以不添加
  - 但是如果方法本身中有一个参数，那么默认将原生事件event参数传递进去
- 情况二：如果需要同时传入某个参数，同时需要event时，可以通过@event传入

```html
  <div id="app"></div>
  <template id="my-app">
    <!-- 默认传入event对象, 可以在方法中获取 -->
    <button @click="btn1Click">按钮1</button>
    <!-- $event可以获取到事件发生时的事件对象 -->
    <button @click="btn2Click($event, 'dylan', 18)">按钮2</button>
  </template>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World"
        }
      },
      methods: {
        btn1Click(event) {
          console.log(event);
        },
        btn2Click(event, name, age) {
          console.log(name, age, event);
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

## v-on的修饰符

- `p.stop` - 调用 `event.stopPropagation()`
- `p.prevent` - 调用 `event.preventDefault()`
- `p.capture` - 添加事件侦听器时使用 capture 模式
- `p.self` - 只当事件是从侦听器绑定的元素本身触发时才触发回调
- `p.{keyAlias}` - 仅当事件是从特定键触发时才触发回调
- `p.once` - 只触发一次回调
- ` p.left` - 只当点击鼠标左键时触发
- `p.right` - 只当点击鼠标右键时触发
- `p.middle` - 只当点击鼠标中键时触发
- `p.passive` - { passive: true } 模式添加侦听器